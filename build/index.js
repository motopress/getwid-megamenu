(()=>{"use strict";var e,t={29:()=>{const e=JSON.parse('{"UU":"getwid-megamenu/menu","L1":"layout","uK":{"itemsJustification":{"type":"string"},"expandDropdown":{"type":"boolean","default":false},"menuMaxWidth":{"type":"number"},"dropdownMaxWidth":{"type":"number"},"dropdownContentMaxWidth":{"type":"number"},"collapseOnMobile":{"type":"boolean","default":true},"responsiveBreakpoint":{"type":"number","default":600},"menuItemFontSize":{"type":"string"},"customMenuItemFontSize":{"type":"string"},"menuItemColor":{"type":"string"},"customMenuItemColor":{"type":"string"},"toggleButtonAlignment":{"type":"string"}},"xY":{"anchor":false,"align":["wide","full"],"reusable":false,"customClassName":true,"lightBlockWrapper":false}}'),t=window.ReactJSXRuntime,{InnerBlocks:n}=wp.blockEditor;function o(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=o(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const i=function(){for(var e,t,n=0,i="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=o(e))&&(i&&(i+=" "),i+=t);return i},{BaseControl:l,ColorIndicator:s}=wp.components,{ColorPalette:r}=wp.blockEditor,a=function(e){const{label:n,color:o,disableCustomColors:i,clearable:a,onChange:c}=e;return(0,t.jsxs)(l,{children:[(0,t.jsxs)(l.VisualLabel,{children:[n,o&&(0,t.jsx)(s,{colorValue:o,style:{verticalAlign:"text-bottom",background:o}})]}),(0,t.jsx)(r,{value:o,onChange:c,disableCustomColors:i,clearable:a})]})},{__}=wp.i18n,{useEffect:c}=wp.element,{BlockControls:d,InspectorControls:m,withFontSizes:u,withColors:p,getFontSizeObjectByValue:g}=wp.blockEditor,{PanelBody:h,ToolbarDropdownMenu:w,ToolbarButton:k,ToolbarGroup:x,RangeControl:f,BaseControl:b,ButtonGroup:C,Button:B,ToggleControl:j,FontSizePicker:I}=wp.components,{withDispatch:v,withSelect:S}=wp.data,{compose:y}=wp.compose,_=y([p({menuItemColor:"color"}),u("menuItemFontSize"),S((e,t)=>({fontSizes:e("core/block-editor").getSettings().fontSizes})),v((e,t,n)=>({updateChildBlocksAttributes(o){const{updateBlockAttributes:i}=e("core/block-editor"),{getBlocksByClientId:l}=n.select("core/block-editor");l(t.clientId)[0].innerBlocks.forEach(e=>{i(e.clientId,{...o})})}}))])(function(e){const{setAttributes:n,attributes:o,menuItemFontSize:i,menuItemColor:l,setMenuItemColor:s,updateChildBlocksAttributes:r,fontSizes:u}=e;function p(e){return()=>{const t=o.itemsJustification===e?void 0:e;n({itemsJustification:t})}}function v(){n({expandDropdown:!o.expandDropdown})}return c(()=>{r({fontSize:i.slug,customFontSize:i.slug?void 0:i.size})},[i.size]),c(()=>{r({textColor:l.slug,customTextColor:l.slug?void 0:l.color})},[l.color]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d,{children:[(0,t.jsx)(w,{icon:o.itemsJustification?`editor-align${o.itemsJustification}`:"editor-alignleft",label:__("Change items justification"),controls:[{icon:"editor-alignleft",title:__("Justify items left"),isActive:"left"===o.itemsJustification,onClick:p("left")},{icon:"editor-aligncenter",title:__("Justify items center"),isActive:"center"===o.itemsJustification,onClick:p("center")},{icon:"editor-alignright",title:__("Justify items right"),isActive:"right"===o.itemsJustification,onClick:p("right")}]}),(0,t.jsx)(x,{children:(0,t.jsx)(k,{name:"expand",icon:o.expandDropdown?"editor-contract":"editor-expand",title:__("Expand dropdown"),onClick:v})})]}),(0,t.jsxs)(m,{children:[(0,t.jsxs)(h,{title:__("Styles"),initialOpen:!0,children:[(0,t.jsx)(I,{fontSizes:u,value:i.size,onChange:e=>{const t=g(u,e).slug;n({menuItemFontSize:t,customMenuItemFontSize:t?void 0:e?.toString()})}}),(0,t.jsx)(a,{label:__("Menu Item Color"),disableCustomColors:!1,color:l.color,onChange:s,clearable:!0}),(0,t.jsx)(j,{label:__("Expand dropdown"),help:o.expandDropdown?__("Dropdown width same as window width."):__("Dropdown width same as menu width."),checked:o.expandDropdown,onChange:v})]}),(0,t.jsxs)(h,{title:__("Width Settings"),initialOpen:!1,children:[(0,t.jsx)(f,{label:__("Maximum width of top-level menu in pixels"),value:o.menuMaxWidth,onChange:e=>n({menuMaxWidth:e}),min:0,max:2e3}),(0,t.jsx)(f,{label:__("Maximum width of dropdown in pixels"),value:o.dropdownMaxWidth,onChange:e=>n({dropdownMaxWidth:e}),min:0,max:2e3}),(0,t.jsx)(f,{label:__("Maximum width of dropdown content in pixels"),value:o.dropdownContentMaxWidth,onChange:e=>n({dropdownContentMaxWidth:e}),min:0,max:2e3})]}),(0,t.jsxs)(h,{title:__("Responsive Settings"),initialOpen:!1,children:[(0,t.jsx)(f,{label:__("Mobile device breakpoint in pixels"),value:o.responsiveBreakpoint,onChange:e=>n({responsiveBreakpoint:e}),min:0,max:2e3}),(0,t.jsx)(j,{label:__("Collapse on mobile?"),help:o.collapseOnMobile?__("Menu will be transformed to burger."):__("Menu will be as it is."),checked:o.collapseOnMobile,onChange:e=>n({collapseOnMobile:e})}),(0,t.jsx)(b,{label:__("Toggle button alignment"),children:(0,t.jsxs)(C,{children:[(0,t.jsx)(B,{icon:"editor-alignleft",isSecondary:!0,onClick:()=>{n({toggleButtonAlignment:"left"})},isPrimary:"left"===o.toggleButtonAlignment}),(0,t.jsx)(B,{icon:"editor-aligncenter",isSecondary:!0,onClick:()=>{n({toggleButtonAlignment:"center"})},isPrimary:"center"===o.toggleButtonAlignment}),(0,t.jsx)(B,{icon:"editor-alignright",isSecondary:!0,onClick:()=>{n({toggleButtonAlignment:"right"})},isPrimary:"right"===o.toggleButtonAlignment})]})})]})]})]})}),{__:z}=wp.i18n,{useRef:M}=wp.element,{InnerBlocks:T}=wp.blockEditor,{withSelect:A}=wp.data,{compose:D}=wp.compose,F=[["getwid-megamenu/menu-item",{}]],O=["getwid-megamenu/menu-item"],J=D([A((e,{clientId:t})=>{const{getClientIdsOfDescendants:n,hasSelectedInnerBlock:o,getSelectedBlockClientId:i,getBlocksByClientId:l}=e("core/block-editor"),s=o(t,!1),r=i();return{isImmediateParentOfSelectedBlock:s,selectedBlockHasDescendants:!!n([r])?.length,menuItems:l(t)[0].innerBlocks}})])(function(e){const{selectedBlockHasDescendants:n,isImmediateParentOfSelectedBlock:o,isSelected:l,attributes:s}=e,r=M(),a=i("wp-block-getwid-megamenu","gw-mm",{[`justify-items-${s.itemsJustification}`]:s.itemsJustification,"has-full-width-dropdown":s.expandDropdown}),c={maxWidth:s.menuMaxWidth};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_,{...e}),(0,t.jsx)("div",{className:a,children:(0,t.jsx)("div",{className:"gw-mm__wrapper",style:c,children:(0,t.jsx)("div",{className:"gw-mm__content-wrapper",children:(0,t.jsx)("div",{className:"gw-mm__content",children:(0,t.jsx)(T,{ref:r,template:F,templateLock:!1,allowedBlocks:O,templateInsertUpdatesSelection:!1,renderAppender:!!(o&&!n||l)&&T.DefaultAppender,__experimentalMoverDirection:"horizontal",orientation:"horizontal"})})})})})]})}),{registerBlockType:N}=wp.blocks,{__:P}=wp.i18n;N(e.UU,{title:P("Mega Menu","getwid-megamenu"),keywords:[P("navigation","getwid-megamenu"),P("links","getwid-megamenu")],icon:"menu",category:e.L1,attributes:e.uK,supports:e.xY,edit:J,save:function(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(n.Content,{})})}});const E=JSON.parse('{"UU":"getwid-megamenu/menu-item","L1":"layout","$t":["getwid-megamenu/menu"],"uK":{"url":{"type":"string","default":""},"id":{"type":"string"},"kind":{"type":"string"},"text":{"type":"string"},"linkTarget":{"type":"string"},"rel":{"type":"string"},"textColor":{"type":"string"},"customTextColor":{"type":"string"},"fontSize":{"type":"string"},"customFontSize":{"type":"string"}},"xY":{"anchor":false,"align":false,"alignWide":false,"reusable":false,"lightBlockWrapper":false}}'),{InnerBlocks:W}=wp.blockEditor,{__:L}=wp.i18n,{useCallback:U,useState:R,useEffect:$}=wp.element,{PanelBody:K,TextControl:Y,ToggleControl:H,ToolbarButton:G,ToolbarGroup:V,Popover:q}=wp.components,{BlockControls:X,InspectorControls:Q,__experimentalLinkControl:Z}=wp.blockEditor,ee="noreferrer noopener",te=function(e){const{isSelected:n,attributes:o,setAttributes:i,toggleItemDropdown:l}=e,{linkTarget:s,rel:r,text:a,url:c}=o,[d,m]=R(!1),u=!(void 0===c||0===c.trim().length),p=U(e=>{const t=e?"_blank":void 0;let n=r;t&&!r?n=ee:t||r!==ee||(n=void 0),i({linkTarget:t,rel:n})},[r,i]),g=U(e=>{i({rel:e})},[i]);return $(()=>{n&&!c&&m(!0)},[n]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(X,{children:[(0,t.jsxs)(V,{children:[(0,t.jsx)(G,{name:"link",icon:"admin-links",title:L("Edit Link"),onClick:()=>(m(!0),!1),isActive:u}),(0,t.jsx)(G,{name:"unlink",icon:"editor-unlink",title:L("Unlink"),onClick:()=>{i({url:void 0,linkTarget:void 0,rel:void 0}),m(!1)},isDisabled:!u})]}),(0,t.jsx)(V,{children:(0,t.jsx)(G,{name:"submenu",icon:"download",title:L("Add submenu"),onClick:l})})]}),d&&(0,t.jsx)(q,{position:"top center",onClose:()=>m(!1),children:(0,t.jsx)(Z,{value:{url:c,opensInNewTab:"_blank"===s},onChange:({title:e="",url:t="",opensInNewTab:n,id:o="",kind:l=""})=>{i({id:o,kind:l,url:t,text:a||(""!==e&&a!==e?e:void 0)}),"_blank"===s!==n&&p(n),m(!1)}})}),(0,t.jsx)(Q,{children:(0,t.jsxs)(K,{title:L("Link settings"),children:[(0,t.jsx)(H,{label:L("Open in new tab"),onChange:p,checked:"_blank"===s}),(0,t.jsx)(Y,{label:L("Link rel"),value:r||"",onChange:g})]})})]})},{__:ne}=wp.i18n,{useState:oe,useEffect:ie,useRef:le}=wp.element,{compose:se}=wp.compose,{withSelect:re,withDispatch:ae}=wp.data,{RichText:ce,InnerBlocks:de}=wp.blockEditor,me=se([re((e,t)=>{const{hasSelectedInnerBlock:n,getBlockCount:o,getBlockParentsByBlockName:i,getBlock:l}=e("core/block-editor"),{clientId:s}=t,r=n(s,!0),a=!!o(s),c=i(s,"getwid-megamenu/menu")[0];return{isParentOfSelectedBlock:r,hasDescendants:a,rootBlockClientId:c,parentAttributes:l(c).attributes}}),ae((e,{clientId:t})=>({updateInnerBlocks(n){e("core/block-editor").replaceInnerBlocks(t,[],!1)}}))])(function(e){const{attributes:n,setAttributes:o,isSelected:l,onReplace:s,mergeBlocks:r,isParentOfSelectedBlock:a,hasDescendants:c,updateInnerBlocks:d,rootBlockClientId:m,parentAttributes:u}=e,{text:p}=n,g=ne("Add link…"),[h,w]=oe(c),k=h||c,x=(l||a)&&k,[f,b]=oe({left:0,width:"auto"}),C=le(null),B=()=>{let e,t={};const n=C.current;if(!n)return;const o=n.getBoundingClientRect();e=u.expandDropdown?n.closest(".editor-styles-wrapper"):n.closest('[data-block="'+m+'"]').querySelector(".wp-block-getwid-megamenu");const i=e.getBoundingClientRect();let l=-(o.x-i.x);u.dropdownMaxWidth&&i.width>u.dropdownMaxWidth&&(l+=(i.width-u.dropdownMaxWidth)/2),t={left:l,width:i.width},t.left===f.left&&t.width===f.width||b(t)};ie(()=>{B()},[l]),ie(()=>{const e=C.current;e&&e.ownerDocument.defaultView.addEventListener("resize",B)},[]),ie(()=>{o({fontSize:u.menuItemFontSize,customFontSize:u.customMenuItemFontSize,textColor:u.menuItemColor,customTextColor:u.customMenuItemColor})},[]);const j={left:f.left,width:f.width,maxWidth:u.dropdownMaxWidth},I={backgroundColor:n.customDropdownBackgroundColor},v={maxWidth:u.dropdownContentMaxWidth},S=i("gw-mm-item__dropdown",{"has-background":n.dropdownBackgroundColor||n.customDropdownBackgroundColor,[`has-${n.dropdownBackgroundColor}-background-color`]:!!n.dropdownBackgroundColor}),y=i("wp-block-getwid-megamenu-item","gw-mm-item",{"has-child":c,"is-opened":x}),_=i("gw-mm-item__link",{"has-text-color":n.textColor||n.customTextColor,[`has-${n.textColor}-color`]:!!n.textColor,[`has-${n.fontSize}-font-size`]:!!n.fontSize}),z={color:n.customTextColor,fontSize:n.customFontSize};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:y,ref:C,children:[(0,t.jsx)("div",{className:_,style:z,children:(0,t.jsxs)("a",{children:[(0,t.jsx)(ce,{placeholder:g,value:p,onChange:e=>o({text:e}),withoutInteractiveFormatting:!0,onReplace:s,onMerge:r,identifier:"text"}),k&&(0,t.jsx)("span",{className:"gw-mm-item__dropdown-icon",children:(0,t.jsx)("span",{className:"dashicons dashicons-arrow-down"})})]})}),x&&(0,t.jsx)("div",{className:"gw-mm-item__dropdown-wrapper",style:j,children:(0,t.jsx)("div",{className:S,style:I,children:(0,t.jsx)("div",{className:"gw-mm-item__dropdown-content",style:v,children:(0,t.jsx)(de,{})})})})]}),(0,t.jsx)(te,{...e,toggleItemDropdown:()=>(w(!h),c&&d(),!1),isItemDropdownOpened:h})]})}),{registerBlockType:ue}=wp.blocks,{__:pe}=wp.i18n;ue(E.UU,{title:pe("Menu Item","getwid-megamenu"),icon:"admin-links",category:E.L1,parent:E.$t,attributes:E.uK,supports:E.xY,edit:me,save:function(){return(0,t.jsx)(W.Content,{})}});const ge=JSON.parse('{"UU":"getwid-megamenu/plain-menu","L1":"layout","uK":{"itemsJustification":{"type":"string"},"orientation":{"type":"string","default":"horizontal"},"menuItemFontSize":{"type":"string"},"customMenuItemFontSize":{"type":"string"},"menuItemColor":{"type":"string"},"customMenuItemColor":{"type":"string"}},"xY":{"anchor":false,"align":false,"reusable":false,"customClassName":true,"lightBlockWrapper":false}}'),{InnerBlocks:he}=wp.blockEditor,{__:we}=wp.i18n,{useEffect:ke}=wp.element,{BlockControls:xe,InspectorControls:fe,withFontSizes:be,withColors:Ce,getFontSizeObjectByValue:Be}=wp.blockEditor,{PanelBody:je,ToolbarDropdownMenu:Ie,ToolbarButton:ve,ToolbarGroup:Se,FontSizePicker:ye}=wp.components,{withDispatch:_e,withSelect:ze}=wp.data,{compose:Me}=wp.compose,Te=Me([Ce({menuItemColor:"color"}),be("menuItemFontSize"),ze((e,t)=>({fontSizes:e("core/block-editor").getSettings().fontSizes})),_e((e,t,n)=>({updateChildBlocksAttributes(o){const{updateBlockAttributes:i}=e("core/block-editor"),{getBlocksByClientId:l}=n.select("core/block-editor");l(t.clientId)[0].innerBlocks.forEach(e=>{i(e.clientId,{...o})})}}))])(function(e){const{setAttributes:n,attributes:o,menuItemFontSize:i,menuItemColor:l,setMenuItemColor:s,updateChildBlocksAttributes:r,fontSizes:c}=e;function d(e){return()=>{const t=o.itemsJustification===e?void 0:e;n({itemsJustification:t})}}return ke(()=>{r({fontSize:i.slug,customFontSize:i.slug?void 0:i.size})},[i.size]),ke(()=>{r({textColor:l.slug,customTextColor:l.slug?void 0:l.color})},[l.color]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(xe,{children:[(0,t.jsx)(Ie,{icon:o.itemsJustification?`editor-align${o.itemsJustification}`:"editor-alignleft",label:we("Change items justification"),controls:[{icon:"editor-alignleft",title:we("Justify items left"),isActive:"left"===o.itemsJustification,onClick:d("left")},{icon:"editor-aligncenter",title:we("Justify items center"),isActive:"center"===o.itemsJustification,onClick:d("center")},{icon:"editor-alignright",title:we("Justify items right"),isActive:"right"===o.itemsJustification,onClick:d("right")}]}),(0,t.jsx)(Se,{children:(0,t.jsx)(ve,{name:"orientation",icon:"image-rotate-right",title:"vertical"===o.orientation?we("Make horizontal"):we("Make vertical"),isActive:"vertical"===o.orientation,onClick:()=>{n({orientation:"vertical"===o.orientation?"horizontal":"vertical"})}})})]}),(0,t.jsx)(fe,{children:(0,t.jsxs)(je,{title:we("Settings"),initialOpen:!0,children:[(0,t.jsx)(ye,{fontSizes:c,value:i.size,onChange:e=>{const t=Be(c,e).slug;n({menuItemFontSize:t,customMenuItemFontSize:t?void 0:e?.toString()})}}),(0,t.jsx)(a,{label:we("Color"),disableCustomColors:!1,color:l.color,onChange:s,clearable:!0})]})})]})}),{useRef:Ae}=wp.element,{InnerBlocks:De}=wp.blockEditor,{withSelect:Fe}=wp.data,{compose:Oe}=wp.compose,Je=[["getwid-megamenu/plain-menu-item",{}]],Ne=["getwid-megamenu/plain-menu-item"],Pe=Oe([Fe((e,{clientId:t})=>{const{getClientIdsOfDescendants:n,hasSelectedInnerBlock:o,getSelectedBlockClientId:i}=e("core/block-editor"),l=o(t,!1),s=i();return{isImmediateParentOfSelectedBlock:l,selectedBlockHasDescendants:!!n([s])?.length}})])(function(e){const{selectedBlockHasDescendants:n,isImmediateParentOfSelectedBlock:o,isSelected:l,attributes:s}=e,r=Ae(),a=i("wp-block-getwid-plain-menu","gw-pm",{[`justify-items-${s.itemsJustification}`]:s.itemsJustification,[`is-orientation-${s.orientation}`]:s.orientation});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Te,{...e}),(0,t.jsx)("div",{className:a,children:(0,t.jsx)("div",{className:"gw-pm__content",children:(0,t.jsx)(De,{ref:r,template:Je,templateLock:!1,allowedBlocks:Ne,templateInsertUpdatesSelection:!1,renderAppender:!!(o&&!n||l)&&De.DefaultAppender,__experimentalMoverDirection:s.orientation,orientation:s.orientation})})})]})}),{registerBlockType:Ee}=wp.blocks,{__:We}=wp.i18n;Ee(ge.UU,{title:We("Plain Menu","getwid-megamenu"),icon:"menu",category:ge.L1,attributes:ge.uK,supports:ge.xY,edit:Pe,save:function(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(he.Content,{})})}});const Le=JSON.parse('{"UU":"getwid-megamenu/plain-menu-item","L1":"layout","$t":["getwid-megamenu/plain-menu"],"uK":{"url":{"type":"string","default":""},"id":{"type":"string"},"kind":{"type":"string"},"text":{"type":"string"},"linkTarget":{"type":"string"},"rel":{"type":"string"},"textColor":{"type":"string"},"customTextColor":{"type":"string"},"fontSize":{"type":"string"},"customFontSize":{"type":"string"}},"xY":{"anchor":false,"align":false,"alignWide":false,"reusable":false,"lightBlockWrapper":false}}'),{InnerBlocks:Ue}=wp.blockEditor,{__:Re}=wp.i18n,{useCallback:$e,useState:Ke,useEffect:Ye}=wp.element,{PanelBody:He,TextControl:Ge,ToggleControl:Ve,ToolbarButton:qe,ToolbarGroup:Xe,Popover:Qe}=wp.components,{BlockControls:Ze,InspectorControls:et,__experimentalLinkControl:tt}=wp.blockEditor,nt="noreferrer noopener",ot=function(e){const{isSelected:n,attributes:o,setAttributes:i,insertPlainMenuItem:l}=e,{linkTarget:s,rel:r,text:a,url:c}=o,[d,m]=Ke(!1),u=!(void 0===c||0===c.trim().length),p=$e(e=>{i({rel:e})},[i]),g=$e(e=>{const t=e?"_blank":void 0;let n=r;t&&!r?n=nt:t||r!==nt||(n=void 0),i({linkTarget:t,rel:n})},[r,i]);return Ye(()=>{n&&!c&&m(!0)},[n]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(Ze,{children:[(0,t.jsxs)(Xe,{children:[(0,t.jsx)(qe,{name:"link",icon:"admin-links",title:Re("Edit Link"),onClick:()=>(m(!0),!1),isActive:u}),(0,t.jsx)(qe,{name:"unlink",icon:"editor-unlink",title:Re("Unlink"),onClick:()=>{i({url:void 0,linkTarget:void 0,rel:void 0}),m(!1)},isDisabled:!u})]}),(0,t.jsx)(Xe,{children:(0,t.jsx)(qe,{name:"submenu",icon:"download",title:Re("Add submenu"),onClick:l})})]}),d&&(0,t.jsx)(Qe,{position:"bottom center",onClose:()=>m(!1),children:(0,t.jsx)(tt,{value:{url:c,opensInNewTab:"_blank"===s},onChange:({title:e="",url:t="",opensInNewTab:n,id:o="",kind:l=""})=>{i({id:o,kind:l,url:t,text:a||(""!==e&&a!==e?e:void 0)}),"_blank"===s!==n&&g(n)}})}),(0,t.jsx)(et,{children:(0,t.jsxs)(He,{title:Re("Link settings"),children:[(0,t.jsx)(Ve,{label:Re("Open in new tab"),onChange:g,checked:"_blank"===s}),(0,t.jsx)(Ge,{label:Re("Link rel"),value:r||"",onChange:p})]})})]})},{__:it}=wp.i18n,{useState:lt,useEffect:st}=wp.element,{compose:rt}=wp.compose,{withSelect:at,withDispatch:ct}=wp.data,{RichText:dt,InnerBlocks:mt}=wp.blockEditor,{createBlock:ut}=wp.blocks,pt=rt([at((e,t)=>{const{hasSelectedInnerBlock:n,getClientIdsOfDescendants:o,getBlockParentsByBlockName:i,getSelectedBlockClientId:l,getBlock:s}=e("core/block-editor"),{clientId:r}=t,a=n(r,!0),c=n(r,!1),d=!!o([r]).length,m=l(),u=!!o([m])?.length,p=i(r,"getwid-megamenu/plain-menu")[0],g=i(r,"getwid-megamenu/plain-menu-item")[0];return{isParentOfSelectedBlock:a,isImmediateParentOfSelectedBlock:c,selectedBlockHasDescendants:u,hasDescendants:d,rootBlockClientId:p,clientId:r,parentAttributes:s(p).attributes,parentItemClientId:g}}),ct((e,t,n)=>({clearInnerBlocks(n){e("core/block-editor").replaceInnerBlocks(t.clientId,[],!1)},insertPlainMenuItem(){const{insertBlock:o}=e("core/block-editor"),{getClientIdsOfDescendants:i}=n.select("core/block-editor"),l=i([t.clientId]),s=l.length?l.length:0;o(ut("getwid-megamenu/plain-menu-item"),s,t.clientId)}}))])(function(e){const{attributes:n,setAttributes:o,isSelected:l,onReplace:s,mergeBlocks:r,isParentOfSelectedBlock:a,isImmediateParentOfSelectedBlock:c,hasDescendants:d,insertPlainMenuItem:m,selectedBlockHasDescendants:u,parentAttributes:p,parentItemClientId:g}=e,{text:h}=n,w=it("Add link…"),[k,x]=lt(d),f=l||a,b=k||d,C=i("wp-block-getwid-plain-menu-item","gw-pm-item",{"has-child":d,"has-child-selected":a,"is-opened":f&&b});st(()=>{o({fontSize:g?void 0:p.menuItemFontSize,customFontSize:g?void 0:p.customMenuItemFontSize,textColor:g?void 0:p.menuItemColor,customTextColor:g?void 0:p.customMenuItemColor})},[]);const B=i("gw-pm-item__link",{"has-text-color":n.textColor||n.customTextColor,[`has-${n.textColor}-color`]:!!n.textColor,[`has-${n.fontSize}-font-size`]:!!n.fontSize}),j={color:n.customTextColor,fontSize:n.customFontSize};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:C,children:[(0,t.jsx)("div",{className:B,style:j,children:(0,t.jsxs)("a",{href:"#",onClick:()=>!1,children:[(0,t.jsx)(dt,{placeholder:w,value:h,onChange:e=>o({text:e}),withoutInteractiveFormatting:!0,onReplace:s,onMerge:r,identifier:"text"}),b&&(0,t.jsx)("span",{className:"gw-pm-item__dropdown-icon",children:(0,t.jsx)("span",{className:"dashicons dashicons-arrow-down"})})]})}),f&&(0,t.jsx)("div",{className:"gw-pm-item__dropdown",children:(0,t.jsx)("div",{className:"gw-pm-item__dropdown-content",children:(0,t.jsx)(mt,{allowedBlocks:["getwid-megamenu/plain-menu-item"],renderAppender:!!(l&&d||c&&!u)&&mt.DefaultAppender})})})]}),(0,t.jsx)(ot,{...e,insertPlainMenuItem:m})]})}),{registerBlockType:gt}=wp.blocks,{__:ht}=wp.i18n;gt(Le.UU,{title:ht("Plain Menu Item","getwid-megamenu"),icon:"admin-links",category:Le.L1,parent:Le.$t,attributes:Le.uK,supports:Le.xY,edit:pt,save:function(){return(0,t.jsx)(Ue.Content,{})}})}},n={};function o(e){var i=n[e];if(void 0!==i)return i.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,o),l.exports}o.m=t,e=[],o.O=(t,n,i,l)=>{if(!n){var s=1/0;for(d=0;d<e.length;d++){for(var[n,i,l]=e[d],r=!0,a=0;a<n.length;a++)(!1&l||s>=l)&&Object.keys(o.O).every(e=>o.O[e](n[a]))?n.splice(a--,1):(r=!1,l<s&&(s=l));if(r){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[n,i,l]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var i,l,[s,r,a]=n,c=0;if(s.some(t=>0!==e[t])){for(i in r)o.o(r,i)&&(o.m[i]=r[i]);if(a)var d=a(o)}for(t&&t(n);c<s.length;c++)l=s[c],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(d)},n=globalThis.webpackChunkgetwid_megamenu=globalThis.webpackChunkgetwid_megamenu||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=o.O(void 0,[350],()=>o(29));i=o.O(i)})();